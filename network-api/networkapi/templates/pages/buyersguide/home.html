{% extends "pages/buyersguide/catalog.html" %}
{% load wagtailcore_tags %}

{% block body_id %}home{% endblock %}

{% block hero %}
  {{ block.super }}
  <div class="editorial-content">

    {% if page.hero_featured_article %}
      <div class="tw-container">
        {% include "fragments/buyersguide/featured_article.html" with hero_featured_article=page.hero_featured_article %}
      </div>
    {% endif %}

    {% if page.featured_advice_article %}
      <div class="large:tw-container tw-my-6">
        {% include "fragments/buyersguide/ask_jen_advice_section.html" with featured_advice_article=page.featured_advice_article %}
      </div>
    {% endif %}

    <div class="tw-container tw-my-6">
      <div class="tw-row">
        {% with row_item_classes="tw-px-4 tw-w-full large:tw-w-1/3 tw-py-5 large:tw-py-0" %}

          {% with popular_articles=page.get_featured_articles %}
            {% if popular_articles %}
              <div class="{{row_item_classes}}">
                {% include "fragments/buyersguide/popular_articles.html" with index_page=page.get_editorial_content_index %}
              </div>
            {% endif %}
          {% endwith %}

          {% with product_updates=page.get_featured_updates %}
            {% if product_updates %}
              <div class="{{row_item_classes}}">
                {% include "fragments/buyersguide/in_the_press.html" %}
              </div>
            {% endif %}
          {% endwith %}

          {% with cta=featured_cta %}
            {% if cta %}
              <div class="{{row_item_classes}}">
                {% include "fragments/buyersguide/call_to_action_box.html" with icon=cta.sticker_image heading=cta.title body=cta.content link_text=cta.link_label link_href=cta.get_target_url %}
              </div>
            {% endif %}
          {% endwith %}

        {% endwith %}
      </div>
    </div>

  </div>

{% endblock hero %}

{% block extra_product_box_list_items %}
  <div class="
    tw-col-span-full medium:tw-col-span-2
    tw-col-end-5
    tw-order-1
    tw-flex
    tw-items-stretch
  ">
    {% include "fragments/buyersguide/pni_newsletter_box.html" %}
  </div>
{% endblock extra_product_box_list_items %}
